<!DOCTYPE html>
<html lang="en">
	<head>
		<title>three.js webgl - teapot buffer geometry</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<link type="text/css" rel="stylesheet" href="main.css">
	</head>
	<body>
		<div id="info">
			<a href="https://threejs.org" target="_blank" rel="noopener">three.js</a> - the Utah Teapot<br />
			from <a href="https://www.udacity.com/course/interactive-3d-graphics--cs291" target="_blank" rel="noopener">Udacity Interactive 3D Graphics</a>
		</div>

		<script type="importmap">
			{
				"imports": {
					"three": "../build/three.module.js",
					"three/addons/": "../jsm/",
			    		"three/addons/loaders/": "../jsm/loaders/"

				}
			}
		</script>

		<script type="module">

			import * as THREE from 'three';
			import { OrbitControls } from 'three/addons/controls/OrbitControls.js';
			import { ColladaLoader } from 'three/addons/loaders/ColladaLoader.js';
			
			let camera, scene, renderer, teapot;
			let cameraControls;
			
			init();
			animate();
			
			function init() {
			  const container = document.createElement('div');
			  document.body.appendChild(container);
			
			  camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 80000);
			  camera.position.set(-600, 550, 1300);
			
			  scene = new THREE.Scene();
			  scene.background = new THREE.Color(0xAAAAAA);
			
			  const ambientLight = new THREE.AmbientLight(0x7c7c7c, 2.0);
			  scene.add(ambientLight);
			
			  const light = new THREE.DirectionalLight(0xFFFFFF, 2.0);
			  light.position.set(0.32, 0.39, 0.7);
			  scene.add(light);
			
			  renderer = new THREE.WebGLRenderer({ antialias: true });
			  renderer.setSize(window.innerWidth, window.innerHeight);
			  container.appendChild(renderer.domElement);
			
			  cameraControls = new OrbitControls(camera, renderer.domElement);
			
			  window.addEventListener('resize', onWindowResize);
			
			  // Load the teapot.dae file
			  const loader = new ColladaLoader();
			  loader.load('models/teapot.dae', function(collada) {
			    teapot = collada.scene;
			    teapot.scale.set(300, 300, 300); // Adjust scale as needed
			    scene.add(teapot);
			  });
			}
			
			function onWindowResize() {
			  camera.aspect = window.innerWidth / window.innerHeight;
			  camera.updateProjectionMatrix();
			  renderer.setSize(window.innerWidth, window.innerHeight);
			}
			
			function animate() {
			  requestAnimationFrame(animate);
			  cameraControls.update();
			  renderer.render(scene, camera);
			}


		</script>

	</body>
</html>
